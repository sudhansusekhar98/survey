@{
    ViewData["Title"] = "User Help Center";
}

@section PageStyles {
    <style>
        .help-card {
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
            height: 100%;
        }

        .help-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }

        .help-icon {
            font-size: 3rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .help-section-title {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .quick-link {
            padding: 0.75rem 1rem;
            border-left: 3px solid #667eea;
            background: #f8f9fa;
            margin-bottom: 0.5rem;
            transition: all 0.2s;
        }

        .quick-link:hover {
            background: #e7e9ff;
            border-left-width: 5px;
        }

        .video-placeholder {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            border-radius: 8px;
        }

        /* Add margin-bottom to Quick Links & FAQ cards */
        .quick-faq-card {
            margin-bottom: 2rem;
        }

        /* Add margin-bottom to FAQ accordion items */
        .accordion-item {
            margin-bottom: 1rem;
        }

        .user-help-card {
            color: whitesmoke !important;
        }
    </style>
}

<div class="container-fluid">
    <!-- Header -->
    @* <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow-sm border-0">
                <div class="card-body bg-gradient text-white"
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h2 class="mb-2">
                                <i class="bi bi-question-circle-fill me-2"></i>User Help Center
                            </h2>
                            <p class="mb-0">Complete guide to using the Survey Application</p>
                        </div>
                        <div class="col-md-4 text-end">
                            <a asp-action="QuickStart" class="btn btn-light btn-lg">
                                <i class="bi bi-rocket-takeoff me-2"></i>Quick Start Guide
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> *@

    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow-sm border-0 rounded-3">
                <div class="card-body py-2 px-3 text-white user-help-card"
                    style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; ">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-question-circle-fill fs-4 me-3 opacity-50"></i>
                            <div>
                                <h5 class="mb-0 fw-bold">User Help Center</h5>
                                <small class="text-white-50" style="font-size: 0.75rem;">Survey App Guide</small>
                            </div>
                        </div>

                        <a asp-action="QuickStart" class="btn btn-light btn-sm rounded-pill px-3">
                            <i class="bi bi-rocket-takeoff me-1"></i> Quick Start
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="input-group input-group-lg">
                <span class="input-group-text bg-white">
                    <i class="bi bi-search"></i>
                </span>
                <input type="text" class="form-control" id="helpSearch"
                    placeholder="Search help topics... (e.g., 'create survey', 'assign team', 'submit')">
            </div>
        </div>
    </div>

    <!-- Main Help Topics -->
    <div class="row mb-4">
        <div class="col-12">
            <h3 class="help-section-title">
                <i class="bi bi-book me-2"></i>Help Topics
            </h3>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <!-- Survey Creation -->
        <div class="col-md-4">
            <div class="card help-card">
                <div class="card-body text-center">
                    <i class="bi bi-plus-circle-fill help-icon"></i>
                    <h5 class="mt-3 mb-3">Creating Surveys</h5>
                    <p class="text-muted">Learn how to create and configure new surveys with all necessary details.</p>
                    <a asp-action="SurveyCreation" class="btn btn-outline-primary w-100">
                        <i class="bi bi-arrow-right-circle me-2"></i>View Guide
                    </a>
                </div>
            </div>
        </div>

        <!-- Survey Assignment -->
        <div class="col-md-4">
            <div class="card help-card">
                <div class="card-body text-center">
                    <i class="bi bi-people-fill help-icon"></i>
                    <h5 class="mt-3 mb-3">Team Assignment</h5>
                    <p class="text-muted">Assign team members to surveys and manage survey assignments.</p>
                    <a asp-action="SurveyAssignment" class="btn btn-outline-primary w-100">
                        <i class="bi bi-arrow-right-circle me-2"></i>View Guide
                    </a>
                </div>
            </div>
        </div>

        <!-- Survey Execution -->
        <div class="col-md-4">
            <div class="card help-card">
                <div class="card-body text-center">
                    <i class="bi bi-list-check help-icon"></i>
                    <h5 class="mt-3 mb-3">Executing Surveys</h5>
                    <p class="text-muted">Add locations, select devices, and complete survey data collection.</p>
                    <a asp-action="SurveyExecution" class="btn btn-outline-primary w-100">
                        <i class="bi bi-arrow-right-circle me-2"></i>View Guide
                    </a>
                </div>
            </div>
        </div>

        <!-- Survey Submission -->
        <div class="col-md-4">
            <div class="card help-card">
                <div class="card-body text-center">
                    <i class="bi bi-send-fill help-icon"></i>
                    <h5 class="mt-3 mb-3">Submissions & Reviews</h5>
                    <p class="text-muted">Submit completed surveys and review submissions for approval.</p>
                    <a asp-action="SurveySubmission" class="btn btn-outline-primary w-100">
                        <i class="bi bi-arrow-right-circle me-2"></i>View Guide
                    </a>
                </div>
            </div>
        </div>

        <!-- Reports -->
        <div class="col-md-4">
            <div class="card help-card">
                <div class="card-body text-center">
                    <i class="bi bi-bar-chart-fill help-icon"></i>
                    <h5 class="mt-3 mb-3">Reports & Analytics</h5>
                    <p class="text-muted">Generate reports, export data, and view survey analytics.</p>
                    <a asp-action="Reports" class="btn btn-outline-primary w-100">
                        <i class="bi bi-arrow-right-circle me-2"></i>View Guide
                    </a>
                </div>
            </div>
        </div>

        <!-- Admin Functions -->
        <div class="col-md-4">
            <div class="card help-card">
                <div class="card-body text-center">
                    <i class="bi bi-shield-lock-fill help-icon"></i>
                    <h5 class="mt-3 mb-3">Admin Functions</h5>
                    <p class="text-muted">User management, permissions, and system configuration.</p>
                    <a asp-action="AdminFunctions" class="btn btn-outline-primary w-100">
                        <i class="bi bi-arrow-right-circle me-2"></i>View Guide
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Links & FAQ -->
    <div class="row g-4">
        <!-- Quick Links -->
        <div class="col-md-6 quick-faq-card">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white mb-3">
                    <h5 class="mb-0"><i class="bi bi-link-45deg me-2"></i>Quick Links</h5>
                </div>
                <div class="card-body">
                    <div class="quick-link">
                        <a asp-controller="SurveyCreation" asp-action="Create" class="text-decoration-none">
                            <i class="bi bi-plus-square me-2"></i>Create New Survey
                        </a>
                    </div>
                    <div class="quick-link">
                        <a asp-controller="SurveyCreation" asp-action="Index" class="text-decoration-none">
                            <i class="bi bi-list-ul me-2"></i>View All Surveys
                        </a>
                    </div>
                    <div class="quick-link">
                        <a asp-controller="SurveySubmission" asp-action="MySubmissions" class="text-decoration-none">
                            <i class="bi bi-file-earmark-check me-2"></i>My Submissions
                        </a>
                    </div>
                    <div class="quick-link">
                        <a asp-controller="SurveyReports" asp-action="Index" class="text-decoration-none">
                            <i class="bi bi-file-earmark-bar-graph me-2"></i>View Reports
                        </a>
                    </div>
                    <div class="quick-link">
                        <a asp-controller="Profile" asp-action="Index" class="text-decoration-none">
                            <i class="bi bi-person-circle me-2"></i>My Profile
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ -->
        <div class="col-md-6 quick-faq-card">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white mb-3">
                    <h5 class="mb-0"><i class="bi bi-question-circle me-2"></i>Frequently Asked Questions</h5>
                </div>
                <div class="card-body">
                    <a asp-action="FAQ" class="btn btn-outline-success w-100 mb-2">
                        <i class="bi bi-chat-left-quote me-2"></i>View All FAQs
                    </a>
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#faq1">
                                    How do I create a new survey?
                                </button>
                            </h2>
                            <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Go to <strong>Survey â†’ New Survey</strong> from the navigation menu. Fill in the
                                    survey details and click Save.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#faq2">
                                    How do I assign team members?
                                </button>
                            </h2>
                            <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    From the survey list, click <strong>Team</strong> next to the details button,
                                    select employees, and save.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#faq3">
                                    How do I submit a completed survey?
                                </button>
                            </h2>
                            <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    After completing all survey items, click the <strong>Submit</strong> button
                                    button at the bottom of the survey details card.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Support -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="card bg-light border-0">
                <div class="card-body text-center py-4">
                    <h4 class="mb-3">
                        <i class="bi bi-headset me-2"></i>Need Additional Help?
                    </h4>
                    <p class="text-muted mb-3 text-white">Can't find what you're looking for? Our support team is here
                        to help.
                    </p>
                    <a href="mailto:support@vlaccess.com" class="btn btn-primary me-2">
                        <i class="bi bi-envelope me-2"></i>Contact Support
                    </a>
                    <a asp-action="FAQ" class="btn btn-outline-secondary">
                        <i class="bi bi-chat-dots me-2"></i>View FAQs
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

@section PageScripts {
    <script>
        // Simple search functionality
        document.getElementById('helpSearch').addEventListener('input', function (e) {
            const searchTerm = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.help-card');

            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                const parent = card.closest('.col-md-4');

                if (text.includes(searchTerm) || searchTerm === '') {
                    parent.style.display = '';
                } else {
                    parent.style.display = 'none';
                }
            });
        });
    </script>
}