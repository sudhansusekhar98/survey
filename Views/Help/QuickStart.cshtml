@{
    ViewData["Title"] = "Quick Start Guide";
}

@section PageStyles {
    <style>
        .workflow-step {
            position: relative;
            padding-left: 60px;
            margin-bottom: 2rem;
        }

        .workflow-step::before {
            content: '';
            position: absolute;
            left: 19px;
            top: 40px;
            bottom: -20px;
            width: 2px;
            background: #dee2e6;
        }

        .workflow-step:last-child::before {
            display: none;
        }

        .workflow-icon {
            position: absolute;
            left: 0;
            top: 0;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            z-index: 1;
        }

        .role-card {
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
        }

        .role-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 8px rgba(102, 126, 234, 0.2);
        }
    </style>
}

<div class="container-fluid">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a asp-action="Index">Help Center</a></li>
                    <li class="breadcrumb-item active">Quick Start Guide</li>
                </ol>
            </nav>
            <div class="card border-0 shadow-sm">
                <div class="card-body bg-gradient text-white"
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <h2 class="mb-2">
                        <i class="bi bi-rocket-takeoff-fill me-2"></i>Quick Start Guide
                    </h2>
                    <p class="mb-0 lead">Get started with the Survey Application in 5 minutes</p>
                </div>
            </div>
        </div>
    </div>

    <!-- User Roles -->
    <div class="row mb-4">
        <div class="col-12">
            <h3 class="mb-3"><i class="bi bi-person-badge me-2"></i>Choose Your Role</h3>
            <p class="text-muted">Select your role to see the most relevant workflow:</p>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <div class="col-md-4">
            <div class="card role-card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-person-fill-gear" style="font-size: 3rem; color: #667eea;"></i>
                    <h5 class="mt-3">Survey Creator / Manager</h5>
                    <p class="text-muted">Creates surveys, assigns teams, and reviews submissions</p>
                    <button class="btn btn-primary" onclick="showWorkflow('creator')">View Workflow</button>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card role-card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-person-fill-check" style="font-size: 3rem; color: #667eea;"></i>
                    <h5 class="mt-3">Survey Executor / Field User</h5>
                    <p class="text-muted">Executes assigned surveys and collects data</p>
                    <button class="btn btn-primary" onclick="showWorkflow('executor')">View Workflow</button>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card role-card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-shield-fill-check" style="font-size: 3rem; color: #667eea;"></i>
                    <h5 class="mt-3">Administrator</h5>
                    <p class="text-muted">Manages users, permissions, and system settings</p>
                    <button class="btn btn-primary" onclick="showWorkflow('admin')">View Workflow</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Creator Workflow -->
    <div id="creator-workflow" class="workflow-section" style="display:none;">
        <div class="row mb-4">
            <div class="col-12">
                <div class="alert alert-primary">
                    <h4 class="alert-heading"><i class="bi bi-person-fill-gear me-2"></i>Survey Creator / Manager
                        Workflow</h4>
                    <p class="mb-0">Follow these steps to create, assign, and manage surveys</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <!-- Step 1 -->
                <div class="workflow-step">
                    <div class="workflow-icon">1</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-plus-circle me-2"></i>Create a New Survey</h5>
                            <p>Navigate to <strong>Survey → New Survey</strong></p>
                            <ul>
                                <li>Enter survey name and select client</li>
                                <li>Set due date and other details</li>
                                <li>Click <strong>Save</strong></li>
                            </ul>
                            <a asp-action="SurveyCreation" class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-book me-1"></i>Detailed Guide
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="workflow-step">
                    <div class="workflow-icon">2</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-people me-2"></i>Assign Team Members</h5>
                            <p>From the survey list, click <strong>Assign Team</strong></p>
                            <ul>
                                <li>Select employees from the list</li>
                                <li>Set due date for the assignment</li>
                                <li>Click <strong>Save Assignments</strong></li>
                                <li>Survey status changes to <strong>"Assigned"</strong></li>
                            </ul>
                            <a asp-action="SurveyAssignment" class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-book me-1"></i>Detailed Guide
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="workflow-step">
                    <div class="workflow-icon">3</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-hourglass-split me-2"></i>Monitor Progress</h5>
                            <p>Track survey progress from <strong>Dashboard</strong> or <strong>Survey List</strong></p>
                            <ul>
                                <li>View survey status (Assigned → In Progress → Submitted)</li>
                                <li>Check location completion status</li>
                                <li>View assigned team members</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="workflow-step">
                    <div class="workflow-icon">4</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-clipboard-check me-2"></i>Review Submissions</h5>
                            <p>Go to <strong>Survey → Pending Reviews</strong></p>
                            <ul>
                                <li>View submitted surveys (only your created surveys)</li>
                                <li>Click <strong>View Report</strong> to review details</li>
                                <li>Click <strong>Approve</strong> or <strong>Reject</strong></li>
                                <li>Add comments if needed</li>
                            </ul>
                            <a asp-action="SurveySubmission" class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-book me-1"></i>Detailed Guide
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Step 5 -->
                <div class="workflow-step">
                    <div class="workflow-icon">5</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-file-earmark-bar-graph me-2"></i>Generate Reports</h5>
                            <p>Access <strong>Reports</strong> menu</p>
                            <ul>
                                <li>View summary reports</li>
                                <li>Export to Excel for analysis</li>
                                <li>Download detailed PDF reports</li>
                            </ul>
                            <a asp-action="Reports" class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-book me-1"></i>Detailed Guide
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Executor Workflow -->
    <div id="executor-workflow" class="workflow-section" style="display:none;">
        <div class="row mb-4">
            <div class="col-12">
                <div class="alert alert-success">
                    <h4 class="alert-heading"><i class="bi bi-person-fill-check me-2"></i>Survey Executor / Field User
                        Workflow</h4>
                    <p class="mb-0">Follow these steps to complete assigned surveys</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <!-- Step 1 -->
                <div class="workflow-step">
                    <div class="workflow-icon">1</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-list-ul me-2"></i>View Assigned Surveys</h5>
                            <p>Go to <strong>Survey → All Surveys</strong></p>
                            <ul>
                                <li>See surveys assigned to you</li>
                                <li>Check status and due dates</li>
                                <li>Click <strong>Locations</strong> to start working</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="workflow-step">
                    <div class="workflow-icon">2</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-geo-alt me-2"></i>Add Sub-Locations</h5>
                            <p>In the survey locations page:</p>
                            <ul>
                                <li>Click <strong>Add Location</strong></li>
                                <li>Enter location name and details</li>
                                <li>Use map to set GPS coordinates (optional)</li>
                                <li>Click <strong>Save</strong></li>
                                <li>Survey status changes to <strong>"In Progress"</strong></li>
                            </ul>
                            <a asp-action="SurveyExecution" class="btn btn-sm btn-outline-success">
                                <i class="bi bi-book me-1"></i>Detailed Guide
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="workflow-step">
                    <div class="workflow-icon">3</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-camera me-2"></i>Capture Survey Data</h5>
                            <p>For each location:</p>
                            <ul>
                                <li>Click <strong>Start Survey</strong></li>
                                <li>Select device types to survey</li>
                                <li>Fill in item details and quantities</li>
                                <li>Upload photos (click camera icon)</li>
                                <li>Add remarks if needed</li>
                                <li>Click <strong>Save</strong> frequently</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="workflow-step">
                    <div class="workflow-icon">4</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-send me-2"></i>Submit for Approval</h5>
                            <p>After completing all locations:</p>
                            <ul>
                                <li>Review all entered data</li>
                                <li>Ensure all required fields are filled</li>
                                <li>Click <strong>Submit for Approval</strong> button</li>
                                <li>Survey status changes to <strong>"Submitted"</strong></li>
                                <li>Notification sent to survey creator</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 5 -->
                <div class="workflow-step">
                    <div class="workflow-icon">5</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-check-circle me-2"></i>Track Submission Status</h5>
                            <p>Monitor your submission:</p>
                            <ul>
                                <li>Go to <strong>Survey → My Submissions</strong></li>
                                <li>Check if <strong>Approved</strong> or <strong>Rejected</strong></li>
                                <li>If rejected, review comments and make corrections</li>
                                <li>Resubmit after making changes</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Workflow -->
    <div id="admin-workflow" class="workflow-section" style="display:none;">
        <div class="row mb-4">
            <div class="col-12">
                <div class="alert alert-warning">
                    <h4 class="alert-heading"><i class="bi bi-shield-fill-check me-2"></i>Administrator Workflow</h4>
                    <p class="mb-0">Manage users, permissions, and system configuration</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <!-- Step 1 -->
                <div class="workflow-step">
                    <div class="workflow-icon">1</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-people me-2"></i>Manage Users</h5>
                            <p>Go to <strong>Admin → Users</strong></p>
                            <ul>
                                <li>Add new users with login credentials</li>
                                <li>Assign roles and permissions</li>
                                <li>Activate/deactivate user accounts</li>
                                <li>Reset passwords if needed</li>
                            </ul>
                            <a asp-action="AdminFunctions" class="btn btn-sm btn-outline-warning">
                                <i class="bi bi-book me-1"></i>Detailed Guide
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="workflow-step">
                    <div class="workflow-icon">2</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-shield-lock me-2"></i>Configure User Rights</h5>
                            <p>Access <strong>Admin → User Rights</strong></p>
                            <ul>
                                <li>Define role-based permissions</li>
                                <li>Set regional access controls</li>
                                <li>Configure feature access</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="workflow-step">
                    <div class="workflow-icon">3</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-person-vcard me-2"></i>Manage Employees</h5>
                            <p>Navigate to <strong>Admin → Employee Master</strong></p>
                            <ul>
                                <li>Add employee records</li>
                                <li>Link employees to user accounts</li>
                                <li>Update employee information</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="workflow-step">
                    <div class="workflow-icon">4</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-building me-2"></i>Manage Clients</h5>
                            <p>Go to <strong>Admin → Client Master</strong></p>
                            <ul>
                                <li>Add client organizations</li>
                                <li>Update client details</li>
                                <li>Manage client contacts</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 5 -->
                <div class="workflow-step">
                    <div class="workflow-icon">5</div>
                    <div class="card">
                        <div class="card-body">
                            <h5><i class="bi bi-gear me-2"></i>System Configuration</h5>
                            <p>Access <strong>Admin → Manage Devices</strong></p>
                            <ul>
                                <li>Configure device types and categories</li>
                                <li>Manage item masters</li>
                                <li>Set system preferences</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tips Section -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="card bg-light">
                <div class="card-body">
                    <h4 class="mb-3"><i class="bi bi-lightbulb-fill text-warning me-2"></i>Pro Tips</h4>
                    <div class="row">
                        <div class="col-md-6">
                            <ul>
                                <li><strong>Save Often:</strong> Save your work frequently to avoid data loss</li>
                                <li><strong>Use Photos:</strong> Attach photos for better documentation</li>
                                <li><strong>Check Status:</strong> Monitor survey status regularly</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul>
                                <li><strong>Review Before Submit:</strong> Double-check all data before submission</li>
                                <li><strong>Use Reports:</strong> Generate reports for insights</li>
                                <li><strong>Contact Support:</strong> Don't hesitate to ask for help</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Back Button -->
    <div class="row mt-4">
        <div class="col-12 text-center">
            <a asp-action="Index" class="btn btn-lg btn-outline-secondary">
                <i class="bi bi-arrow-left me-2"></i>Back to Help Center
            </a>
        </div>
    </div>
</div>

@section PageScripts {
    <script>
        function showWorkflow(role) {
            // Hide all workflows
            document.querySelectorAll('.workflow-section').forEach(section => {
                section.style.display = 'none';
            });

            // Show selected workflow
            const workflowId = role + '-workflow';
            const workflow = document.getElementById(workflowId);
            if (workflow) {
                workflow.style.display = 'block';
                // Smooth scroll to workflow
                workflow.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
    </script>
}